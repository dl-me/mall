(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["OrderDetail"],{"1ccc":function(e,t,s){"use strict";var r=s("24f9"),a=s.n(r);a.a},"24f9":function(e,t,s){},"53e4":function(e,t,s){"use strict";var r=s("c72b"),a=s.n(r);a.a},"9df4":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"orderDetail"},[s("Header",{attrs:{theme:"white"}},[s("template",{slot:"mid"},[e._v("订单详情")])],2),s("div",{staticClass:"payment-scrool"},[s("div",{staticClass:"payment-status"},[s("p",[e._v(e._s(e.statusText))]),s("p",{staticClass:"remain"},[e._v("剩余："+e._s(parseInt(e.lastPayTime/60))+"小时"+e._s(parseInt(e.lastPayTime%60))+"分钟")])]),s("div",{staticClass:"mailing-address"},[s("div",{staticClass:"mail-info"},[s("div",{staticClass:"info-desc"},[s("p",{staticClass:"info-name"},[e._v(e._s(e.order.receiverName)+" "+e._s(e.order.receiverPhone))]),s("p",{staticClass:"info-address"},[e._v(e._s(e.order.receiverProvince)+e._s(e.order.receiverCity)+e._s(e.order.receiverDetailAddress))])])]),s("div",{staticClass:"mail"})]),s("div",{staticClass:"pending-desc"},[e._m(0),e._l(e.order.orderItemList,(function(t){return s("div",{key:t.id,staticClass:"order-content"},[s("div",{staticClass:"show-img"},[s("img",{attrs:{src:t.productPic,alt:""}})]),s("div",{staticClass:"show-desc"},[s("p",{staticClass:"show-title"},[e._v(e._s(t.productName))]),s("p",{staticClass:"show-content"},[e._v(e._s(JSON.parse(t.productAttr).map((function(e){var t=e.value;return t})).join(";")))]),s("div",{staticClass:"price"},[s("span",{staticClass:"show-price"},[e._v("￥"+e._s(t.productPrice))]),s("span",{staticClass:"show-num"},[e._v("x "+e._s(t.productQuantity))])])])])}))],2),e._m(1),s("div",{staticClass:"price-all"},[void 0!==e.order.totalAmount?s("p",{staticClass:"price"},[s("span",[e._v("商品总额")]),s("span",[e._v("¥"+e._s(e.order.totalAmount.toFixed(2)))])]):e._e(),void 0!==e.order.freightAmount?s("p",{staticClass:"price"},[s("span",[e._v("运费")]),s("span",[e._v("+ ¥"+e._s(e.order.freightAmount.toFixed(2)))])]):e._e(),void 0!==e.order.payAmount?s("p",{staticClass:"price"},[s("span",[e._v("实付金额")]),s("span",{staticClass:"actual-payment"},[e._v("¥"+e._s(e.order.payAmount.toFixed(2)))])]):e._e()]),s("div",{staticClass:"price-all"},[s("p",{staticClass:"price"},[s("span",[e._v("订单编号")]),s("span",[e._v(e._s(e.order.orderSn))])]),s("p",{staticClass:"price"},[s("span",[e._v("下单时间")]),s("span",[e._v(e._s(new Date(e.order.createTime).toLocaleString()))])]),s("p",{staticClass:"price"},[s("span",[e._v("付款时间")]),s("span",[e._v(e._s(new Date(e.order.createTime).toLocaleString()))])])]),s("div",{staticClass:"delete"},[0===e.order.status?[s("button",{on:{click:e.cancelOrder}},[e._v("取消订单")]),s("button",{staticClass:"immediately",on:{click:e.ensurePay}},[e._v("立即付款")])]:e._e(),2===e.order.status?[s("button",{staticClass:"immediately",on:{click:e.confirmOrder}},[e._v("确认收货")])]:e._e(),3===e.order.status?[s("button",{on:{click:e.deleteOrder}},[e._v("删除订单")])]:e._e()],2)])],1)},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order-time"},[r("p",{staticClass:"order-time-title"},[r("img",{attrs:{src:s("ccdd")}}),r("span",[e._v("智冷库品")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"delivery-method"},[s("span",[e._v("配送方式")]),s("span",[e._v("包邮")])])}],i=(s("d3b7"),s("ac1f"),s("5319"),s("96cf"),s("a960")),n={name:"orderDetail",data:function(){return{order:{},lastPayTime:1/0,timer:void 0,times:5}},computed:{id:function(){return this.$route.query.id},statusText:function(){if(!this.order)return"";switch(this.order.status){case 0:return"等待支付";case 2:return"卖家已发货";case 3:return"交易成功";default:return""}}},mounted:function(){this.$route.query.pay&&this.ensurePay(),this.getOrder()},methods:{ensurePay:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$api.ensurePay({orderId:this.id,payType:2}));case 2:e.sent;case 3:case"end":return e.stop()}}),null,this)},getOrder:function(){var e=this;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.$api.getOrder({},this.id));case 2:this.order=t.sent,this.lastPayTime=this.order.lastPayTime,this.timer&&clearInterval(this.timer),this.timer=setInterval((function(){e.lastPayTime-=1}),6e4);case 6:case"end":return t.stop()}}),null,this)},deleteOrder:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$dialog.alert({title:"删除订单",message:"是否删除此订单？",showCancelButton:!0,closeOnPopstate:!0}));case 2:return e.next=4,regeneratorRuntime.awrap(this.$api.deleteOrder({orderId:this.id}));case 4:this.$router.replace("/Order");case 5:case"end":return e.stop()}}),null,this)},confirmOrder:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$dialog.alert({title:"确认收货",message:"是否确认收货？",showCancelButton:!0,closeOnPopstate:!0}));case 2:return e.next=4,regeneratorRuntime.awrap(this.$api.confirmReceiptOrder({orderId:this.id}));case 4:case"end":return e.stop()}}),null,this)},cancelOrder:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$dialog.alert({title:"取消订单",message:"是否取消该订单？",showCancelButton:!0,closeOnPopstate:!0}));case 2:return e.next=4,regeneratorRuntime.awrap(this.$api.cancelOrder({orderId:this.id}));case 4:this.$router.replace("/Order");case 5:case"end":return e.stop()}}),null,this)}},components:{Header:i["a"]}},c=n,o=(s("53e4"),s("2877")),d=Object(o["a"])(c,r,a,!1,null,"72e4ac59",null);t["default"]=d.exports},a960:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app-header"}},[s("div",{class:{headerfix:e.showAbs}},[s("div",{staticClass:"header-fix",class:e.theme},[s("div",{on:{click:e.goBack}},[s("div",{staticClass:"back-icon"},[e.hideBack?e._e():s("span",{staticClass:"iconfont"},[e._v("")])])]),s("div",[e._t("mid")],2),s("div",[e._t("right")],2)])])])},a=[],i={name:"Header",props:["theme","hideBack"],data:function(){return{showAbs:!1,starty:null}},mounted:function(){window.addEventListener("scroll",this.handleScroll)},methods:{goBack:function(){this.hideBack||this.$router.go(-1)},handleScroll:function(){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,t=window.screen.height,s=document.body.scrollHeight;this.showAbs=s>t&&e>0}}},n=i,c=(s("1ccc"),s("2877")),o=Object(c["a"])(n,r,a,!1,null,"36763927",null);t["a"]=o.exports},c72b:function(e,t,s){},ccdd:function(e,t){e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=OrderDetail.3a35b6aa.js.map