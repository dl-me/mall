{"version":3,"sources":["webpack:///./src/components/header/Header.vue?db78","webpack:///./src/pages/mine/OrderDetail.vue?6114","webpack:///./src/pages/mine/OrderDetail.vue?2f74","webpack:///src/pages/mine/OrderDetail.vue","webpack:///./src/pages/mine/OrderDetail.vue?6b22","webpack:///./src/pages/mine/OrderDetail.vue","webpack:///./src/components/header/Header.vue?5c1b","webpack:///src/components/header/Header.vue","webpack:///./src/components/header/Header.vue?bcdf","webpack:///./src/components/header/Header.vue","webpack:///./src/assets/src/mallicon.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","_s","statusText","parseInt","lastPayTime","order","receiverName","receiverPhone","receiverProvince","receiverCity","receiverDetailAddress","_m","_l","item","key","id","productPic","productName","JSON","parse","productAttr","map","ref","value","join","productPrice","productQuantity","undefined","totalAmount","toFixed","_e","freightAmount","payAmount","orderSn","Date","createTime","toLocaleString","status","on","cancelOrder","ensurePay","confirmOrder","deleteOrder","staticRenderFns","name","data","Infinity","timer","times","computed","$route","query","mounted","pay","getOrder","methods","components","Header","component","class","headerfix","showAbs","theme","goBack","hideBack","_t","props","starty","window","addEventListener","handleScroll","$router","go","windowHeight","screen","height","textheight","document","body","scrollHeight","top","module","exports"],"mappings":"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","file":"js/OrderDetail.3a35b6aa.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=36763927&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=36763927&lang=less&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderDetail.vue?vue&type=style&index=0&id=72e4ac59&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderDetail.vue?vue&type=style&index=0&id=72e4ac59&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"orderDetail\"},[_c('Header',{attrs:{\"theme\":\"white\"}},[_c('template',{slot:\"mid\"},[_vm._v(\"订单详情\")])],2),_c('div',{staticClass:\"payment-scrool\"},[_c('div',{staticClass:\"payment-status\"},[_c('p',[_vm._v(_vm._s(_vm.statusText))]),_c('p',{staticClass:\"remain\"},[_vm._v(\"剩余：\"+_vm._s(parseInt(_vm.lastPayTime / 60))+\"小时\"+_vm._s(parseInt(_vm.lastPayTime % 60))+\"分钟\")])]),_c('div',{staticClass:\"mailing-address\"},[_c('div',{staticClass:\"mail-info\"},[_c('div',{staticClass:\"info-desc\"},[_c('p',{staticClass:\"info-name\"},[_vm._v(_vm._s(_vm.order.receiverName)+\" \"+_vm._s(_vm.order.receiverPhone))]),_c('p',{staticClass:\"info-address\"},[_vm._v(_vm._s(_vm.order.receiverProvince)+_vm._s(_vm.order.receiverCity)+_vm._s(_vm.order.receiverDetailAddress))])])]),_c('div',{staticClass:\"mail\"})]),_c('div',{staticClass:\"pending-desc\"},[_vm._m(0),_vm._l((_vm.order.orderItemList),function(item){return _c('div',{key:item.id,staticClass:\"order-content\"},[_c('div',{staticClass:\"show-img\"},[_c('img',{attrs:{\"src\":item.productPic,\"alt\":\"\"}})]),_c('div',{staticClass:\"show-desc\"},[_c('p',{staticClass:\"show-title\"},[_vm._v(_vm._s(item.productName))]),_c('p',{staticClass:\"show-content\"},[_vm._v(_vm._s(JSON.parse(item.productAttr).map(function (ref) {\n\tvar value = ref.value;\n\n\treturn value;\n}).join(';')))]),_c('div',{staticClass:\"price\"},[_c('span',{staticClass:\"show-price\"},[_vm._v(\"￥\"+_vm._s(item.productPrice))]),_c('span',{staticClass:\"show-num\"},[_vm._v(\"x \"+_vm._s(item.productQuantity))])])])])})],2),_vm._m(1),_c('div',{staticClass:\"price-all\"},[(_vm.order.totalAmount !== undefined)?_c('p',{staticClass:\"price\"},[_c('span',[_vm._v(\"商品总额\")]),_c('span',[_vm._v(\"¥\"+_vm._s(_vm.order.totalAmount.toFixed(2)))])]):_vm._e(),(_vm.order.freightAmount !== undefined)?_c('p',{staticClass:\"price\"},[_c('span',[_vm._v(\"运费\")]),_c('span',[_vm._v(\"+ ¥\"+_vm._s(_vm.order.freightAmount.toFixed(2)))])]):_vm._e(),(_vm.order.payAmount !== undefined)?_c('p',{staticClass:\"price\"},[_c('span',[_vm._v(\"实付金额\")]),_c('span',{staticClass:\"actual-payment\"},[_vm._v(\"¥\"+_vm._s(_vm.order.payAmount.toFixed(2)))])]):_vm._e()]),_c('div',{staticClass:\"price-all\"},[_c('p',{staticClass:\"price\"},[_c('span',[_vm._v(\"订单编号\")]),_c('span',[_vm._v(_vm._s(_vm.order.orderSn))])]),_c('p',{staticClass:\"price\"},[_c('span',[_vm._v(\"下单时间\")]),_c('span',[_vm._v(_vm._s(new Date(_vm.order.createTime).toLocaleString()))])]),(1)?_c('p',{staticClass:\"price\"},[_c('span',[_vm._v(\"付款时间\")]),_c('span',[_vm._v(_vm._s(new Date(_vm.order.createTime).toLocaleString()))])]):_vm._e()]),_c('div',{staticClass:\"delete\"},[(_vm.order.status === 0)?[_c('button',{on:{\"click\":_vm.cancelOrder}},[_vm._v(\"取消订单\")]),_c('button',{staticClass:\"immediately\",on:{\"click\":_vm.ensurePay}},[_vm._v(\"立即付款\")])]:_vm._e(),(_vm.order.status === 2)?[_c('button',{staticClass:\"immediately\",on:{\"click\":_vm.confirmOrder}},[_vm._v(\"确认收货\")])]:_vm._e(),(_vm.order.status === 3)?[_c('button',{on:{\"click\":_vm.deleteOrder}},[_vm._v(\"删除订单\")])]:_vm._e()],2)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"order-time\"},[_c('p',{staticClass:\"order-time-title\"},[_c('img',{attrs:{\"src\":require(\"../../assets/src/mallicon.png\")}}),_c('span',[_vm._v(\"智冷库品\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"delivery-method\"},[_c('span',[_vm._v(\"配送方式\")]),_c('span',[_vm._v(\"包邮\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"orderDetail\">\n    <Header theme=\"white\">\n      <template slot=\"mid\">订单详情</template>\n    </Header>\n    <div class=\"payment-scrool\">\n      <div class=\"payment-status\">\n        <p>{{statusText}}</p>\n        <p class=\"remain\">剩余：{{parseInt(lastPayTime / 60)}}小时{{parseInt(lastPayTime % 60)}}分钟</p>\n      </div>\n      <div class=\"mailing-address\">\n        <div class=\"mail-info\">\n          <div class=\"info-desc\">\n            <p class=\"info-name\">{{order.receiverName}} {{order.receiverPhone}}</p>\n            <p\n              class=\"info-address\"\n            >{{order.receiverProvince}}{{order.receiverCity}}{{order.receiverDetailAddress}}</p>\n          </div>\n        </div>\n        <div class=\"mail\"></div>\n      </div>\n\n      <div class=\"pending-desc\">\n        <div class=\"order-time\">\n          <p class=\"order-time-title\">\n            <img src=\"../../assets/src/mallicon.png\" />\n            <span>智冷库品</span>\n          </p>\n        </div>\n        <div v-for=\"item in order.orderItemList\" :key=\"item.id\" class=\"order-content\">\n          <div class=\"show-img\">\n            <img :src=\"item.productPic\" alt />\n          </div>\n          <div class=\"show-desc\">\n            <p class=\"show-title\">{{item.productName}}</p>\n            <p\n              class=\"show-content\"\n            >{{JSON.parse(item.productAttr).map(({value}) => value).join(';')}}</p>\n            <div class=\"price\">\n              <span class=\"show-price\">￥{{item.productPrice}}</span>\n              <span class=\"show-num\">x {{item.productQuantity}}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"delivery-method\">\n        <span>配送方式</span>\n        <span>包邮</span>\n      </div>\n\n      <div class=\"price-all\">\n        <p class=\"price\" v-if=\"order.totalAmount !== undefined\">\n          <span>商品总额</span>\n          <span>¥{{order.totalAmount.toFixed(2)}}</span>\n        </p>\n        <p class=\"price\" v-if=\"order.freightAmount !== undefined\">\n          <span>运费</span>\n          <span>+ ¥{{order.freightAmount.toFixed(2)}}</span>\n        </p>\n        <p class=\"price\" v-if=\"order.payAmount !== undefined\">\n          <span>实付金额</span>\n          <span class=\"actual-payment\">¥{{order.payAmount.toFixed(2)}}</span>\n        </p>\n      </div>\n\n      <div class=\"price-all\">\n        <p class=\"price\">\n          <span>订单编号</span>\n          <span>{{order.orderSn}}</span>\n        </p>\n        <p class=\"price\">\n          <span>下单时间</span>\n          <span>{{new Date(order.createTime).toLocaleString()}}</span>\n        </p>\n        <p class=\"price\" v-if=\"1\">\n          <span>付款时间</span>\n          <span>{{new Date(order.createTime).toLocaleString()}}</span>\n        </p>\n      </div>\n\n      <div class=\"delete\">\n        <template v-if=\"order.status === 0\">\n          <button @click=\"cancelOrder\">取消订单</button>\n          <button class=\"immediately\" @click=\"ensurePay\">立即付款</button>\n        </template>\n        <template v-if=\"order.status === 2\">\n          <button class=\"immediately\" @click=\"confirmOrder\">确认收货</button>\n        </template>\n        <template v-if=\"order.status === 3\">\n          <button @click=\"deleteOrder\">删除订单</button>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from \"@/components/header/Header.vue\";\nexport default {\n  name: \"orderDetail\",\n  data() {\n    return {\n      order: {},\n      lastPayTime: Infinity,\n      timer: undefined,\n      times: 5\n    };\n  },\n  computed: {\n    id() {\n      return this.$route.query.id;\n    },\n    statusText() {\n      if (!this.order) {\n        return \"\";\n      }\n\n      switch (this.order.status) {\n        case 0:\n          return \"等待支付\";\n        case 2:\n          return \"卖家已发货\";\n        case 3:\n          return \"交易成功\";\n\n        default:\n          return \"\";\n      }\n    }\n  },\n  mounted() {\n    if (this.$route.query.pay) {\n      this.ensurePay();\n    }\n\n    this.getOrder();\n  },\n  methods: {\n    async ensurePay() {\n      let data = await this.$api.ensurePay({ orderId: this.id, payType: 2 });\n\n      // try {\n        // if (!window.inWX) {\n          // if (!this.times) {\n          //   return this.$notify(\"当前不在微信环境\");\n          // }\n\n          // this.times--;\n\n          // setTimeout(() => {\n          //   this.ensurePay();\n          // }, 1000);\n        //   return;\n        // }\n\n        // let {\n        //   nonce_str: nonceStr,\n        //   appid: appId,\n        //   sign: paySign,\n        //   sign_type: signType,\n        //   ...rest\n        // } = JSON.parse(data);\n\n        // window.WeixinJSBridge.invoke(\n          // \"getBrandWCPayRequest\",\n          // {\n          //   nonceStr,\n          //   appId,\n          //   paySign,\n          //   signType,\n          //   ...rest\n          // },\n          // res => {\n            // switch (res.err_msg) {\n            //   case \"get_brand_wcpay_request:ok\":\n            //     this.$notify({\n            //       type: \"success\",\n            //       message: \"支付成功\"\n            //     });\n\n            //     break;\n\n            //   case \"get_brand_wcpay_request:cancel\":\n            //     this.$notify(\"支付已取消\");\n\n            //     break;\n\n            //   case \"get_brand_wcpay_request:fail\":\n            //     this.$notify(\"支付失败\");\n\n            //     break;\n            // }\n          // }\n      //   // );\n      // } catch (error) {\n      //   this.$notify(\"发起支付失败\");\n      // }\n    },\n    async getOrder() {\n      this.order = await this.$api.getOrder({}, this.id);\n\n      this.lastPayTime = this.order.lastPayTime;\n\n      if (this.timer) {\n        clearInterval(this.timer);\n      }\n\n      this.timer = setInterval(() => {\n        this.lastPayTime -= 1;\n      }, 60000);\n    },\n    async deleteOrder() {\n      await this.$dialog.alert({\n        title: \"删除订单\",\n        message: \"是否删除此订单？\",\n        showCancelButton: true,\n        closeOnPopstate: true\n      });\n\n      await this.$api.deleteOrder({\n        orderId: this.id\n      });\n\n      this.$router.replace(\"/Order\");\n    },\n    async confirmOrder() {\n      await this.$dialog.alert({\n        title: \"确认收货\",\n        message: \"是否确认收货？\",\n        showCancelButton: true,\n        closeOnPopstate: true\n      });\n\n      await this.$api.confirmReceiptOrder({\n        orderId: this.id\n      });\n    },\n    async cancelOrder() {\n      await this.$dialog.alert({\n        title: \"取消订单\",\n        message: \"是否取消该订单？\",\n        showCancelButton: true,\n        closeOnPopstate: true\n      });\n\n      await this.$api.cancelOrder({\n        orderId: this.id\n      });\n\n      this.$router.replace(\"/Order\");\n    }\n  },\n  components: {\n    Header\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.orderDetail {\n  height: 100%;\n  overflow: hidden;\n  background-color: #f1f1f1;\n  .payment-scrool {\n    height: 100%;\n    overflow: auto;\n    padding-bottom: 120px;\n    box-sizing: border-box;\n    .payment-status {\n      height: 100px;\n      background-color: #000;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      box-sizing: border-box;\n      padding: 0 15px;\n      p {\n        color: #fff;\n        font-size: 0.3rem;\n      }\n      .remain {\n        font-size: 0.24rem;\n        margin: 12px 0;\n      }\n    }\n    .mailing-address {\n      background-color: #fff;\n      .mail {\n        position: relative;\n        height: 3px;\n        background: repeating-linear-gradient(\n          45deg,\n          #ffffff 10px,\n          #ffffff 20px,\n          #58c 20px,\n          #58c 30px,\n          #ffffff 30px,\n          #ffffff 40px,\n          #e55 40px,\n          #e55 50px\n        );\n      }\n      .mail-info {\n        height: 90px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 0 15px;\n        box-sizing: border-box;\n        .info-desc {\n          .info-name {\n            font-size: 0.3rem;\n            color: #333;\n          }\n          .info-address {\n            font-size: 0.24rem;\n            color: #999;\n            margin: 10px 0;\n          }\n        }\n        .mail-next {\n          img {\n            height: 20px;\n            width: 20px;\n          }\n        }\n      }\n    }\n    .pending-desc {\n      padding: 0 15px 20px;\n      background-color: #fff;\n      .order-time {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        width: 100%;\n        padding-top: 5px;\n        .order-time-title {\n          padding: 0.2rem 0;\n          img {\n            height: 0.28rem;\n            width: 0.28rem;\n            margin-right: 0.1rem;\n          }\n        }\n      }\n      .order-content {\n        display: flex;\n        justify-content: space-around;\n        align-items: center;\n        width: 100%;\n        margin-top: 20px;\n        .show-img {\n          vertical-align: middle;\n          img {\n            height: auto;\n            width: 100px;\n          }\n        }\n        .show-desc {\n          flex: 1;\n          padding-left: 1rem;\n\n          .show-title {\n            color: #333;\n            font-size: 0.28rem;\n          }\n          .show-content {\n            color: #999;\n            font-size: 0.24rem;\n            margin: 7px 0;\n          }\n          .price {\n            display: flex;\n            justify-content: space-between;\n            margin-top: 50px;\n            .show-price {\n              font-size: 0.28rem;\n              color: #333;\n            }\n            .show-num {\n              font-size: 0.24rem;\n              color: #666;\n            }\n          }\n        }\n      }\n    }\n    .delivery-method {\n      height: 50px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 0 15px;\n      box-sizing: border-box;\n      background-color: #fff;\n      margin: 10px 0;\n      span {\n        font-size: 0.28rem;\n      }\n      span:first-child {\n        color: #999;\n      }\n    }\n    .price-all {\n      padding: 11px 15px;\n      box-sizing: border-box;\n      background-color: #fff;\n      margin: 10px 0;\n      .price {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        height: 30px;\n        .actual-payment {\n          font-size: 0.3rem;\n          font-weight: 700;\n        }\n        span {\n          font-size: 0.28rem;\n        }\n        span:first-child {\n          color: #999;\n        }\n      }\n    }\n    .delete {\n      position: fixed;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      text-align: right;\n      padding: 11px 15px;\n      box-sizing: border-box;\n      background-color: #fff;\n      button {\n        width: 68px;\n        height: 30px;\n        border: none;\n        background-color: transparent;\n        outline: none;\n        color: #ccc;\n        border: 1px solid #ccc;\n        border-radius: 4px;\n        font-size: 0.24rem;\n      }\n      .immediately {\n        background-image: linear-gradient(135deg, #edcd95 10%, #cfad69 100%);\n        color: #6d4b0e;\n        margin-left: 15px;\n      }\n      .sure {\n        color: #cfad69;\n        border: 1px solid #cfad69;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderDetail.vue?vue&type=template&id=72e4ac59&scoped=true&\"\nimport script from \"./OrderDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderDetail.vue?vue&type=style&index=0&id=72e4ac59&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72e4ac59\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app-header\"}},[_c('div',{class:{ headerfix: _vm.showAbs }},[_c('div',{staticClass:\"header-fix\",class:_vm.theme},[_c('div',{on:{\"click\":_vm.goBack}},[_c('div',{staticClass:\"back-icon\"},[(!_vm.hideBack)?_c('span',{staticClass:\"iconfont\"},[_vm._v(\"\")]):_vm._e()])]),_c('div',[_vm._t(\"mid\")],2),_c('div',[_vm._t(\"right\")],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app-header\">\n    <div :class=\"{ headerfix: showAbs }\">\n      <div class=\"header-fix\" :class=\"theme\">\n        <div @click=\"goBack\">\n          <div class=\"back-icon\">\n            <span v-if=\"!hideBack\" class=\"iconfont\">&#xe60a;</span>\n          </div>\n        </div>\n        <div>\n          <slot name=\"mid\"></slot>\n        </div>\n        <div>\n          <slot name=\"right\"></slot>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Header\",\n  props: [\"theme\", \"hideBack\"],\n  data() {\n    return {\n      showAbs: false,\n      starty: null\n    };\n  },\n  mounted() {\n    window.addEventListener(\"scroll\", this.handleScroll);\n  },\n  methods: {\n    goBack() {\n      if (this.hideBack) {\n        return;\n      }\n\n      this.$router.go(-1);\n    },\n    handleScroll() {\n      const top =\n        window.pageYOffset ||\n        document.documentElement.scrollTop ||\n        document.body.scrollTop;\n      var windowHeight = window.screen.height; //当前屏幕高\n      var textheight = document.body.scrollHeight; //文本\n\n      if (textheight > windowHeight && top > 0) {\n        this.showAbs = true;\n      } else {\n        this.showAbs = false;\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n#app-header {\n  height: 50px;\n  flex: 0;\n}\n.header-fix {\n  display: flex;\n  height: 50px;\n  text-align: center;\n  font-size: 16px;\n  align-items: center;\n  padding: 0 15px;\n  > div {\n    display: flex;\n    height: 100%;\n    align-items: center;\n    font-size: 0.32rem;\n  }\n  > div:first-child,\n  > div:last-child {\n    width: 80px;\n    cursor: pointer;\n  }\n  > div:first-child {\n    justify-content: flex-start;\n    .back-icon {\n      display: flex;\n      align-items: center;\n      .iconfont{\n        color: #fff;\n      }\n    }\n  }\n  > div:nth-child(2) {\n    flex: 1;\n    justify-content: center;\n  }\n  > div:last-child {\n    justify-content: flex-end;\n  }\n  &.white {\n    background-color: #000;\n    color: #fff;\n  }\n  &.blue {\n    color: #fff;\n    background: #333;\n    box-shadow: 0 -1px 1px 1px #333;\n  }\n}\n.headerfix {\n  z-index: 3;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  line-height: 50px;\n  height: 50px;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  transition: all 0.5s linear;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=36763927&scoped=true&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=36763927&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36763927\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}